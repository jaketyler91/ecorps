<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contatti - E-Corps</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div id="background-animation"></div>
    <div class="content">
        <header>
            <div class="header-container">
                <a href="index.html">
                    <div class="logo">
                        <img src="C:\Users\OSCP\Desktop\logopng.png" alt="E-Corps Logo">
                    </div>
                </a>
                <nav>
                    <ul>
                        <li><a href="about.html">Azienda</a></li>
                        <li><a href="services.html">Servizi</a></li>
                        <li><a href="contact.html" class="active">Contatti</a></li>
                    </ul>
                </nav>
                <div class="hamburger-menu">
                    <div class="hamburger-icon"></div>
                </div>
            </div>
        </header>
        <main class="contact-main">
            <div class="contact-section">
                <div class="contact-form contact-form-wide" id="contact-form">
                    <h2>Contattaci</h2>
                    <form id="contactForm" action="https://formspree.io/f/xzzpbnvj" method="POST">
                    
                        <input type="hidden" name="_redirect" value="contact.html"> <!-- URL di reindirizzamento verso la stessa pagina -->
                        
                        <div class="form-group">
                            <input type="text" name="nome" placeholder="Nome" required>
                        </div>
                        <div class="form-group">
                            <input type="text" name="surname" placeholder="Cognome" required>
                        </div>
                        <div class="form-group">
                            <input type="email" name="email" placeholder="Email" required>
                        </div>

                        <div class="form-group">
                            <textarea name="message" placeholder="Message" rows="4" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn">Invia</button>
                      </form>
                      
                      <div id="confirmation" style="display: none;">
                        <p>Grazie per averci contattato! Il tuo messaggio Ã¨ stato inviato con successo. Verrai presto ricontattato dal nostro team </p>
                      </div>
                </div>
            </div>
        </main>
        <footer>
            <div class="contact-info">
                <div class="info-column">
                    <h2>Posizione</h2>
                    <p>Via Roma, 25121, Brescia</p>
                </div>
                <div class="info-column">
                    <h2>Contatti</h2>
                    <p>info@e-corps.com</p>
                </div>
                <div class="info-column">
                    <h2>Orari</h2>
                    <p>Lun - Ven<br>9:00 - 18:00</p>
                </div>
            </div>
        </footer>
    </div>
    <div class="overlay">
        <nav>
            <ul>
                <li><a href="about.html">Azienda</a></li>
                <li><a href="service.html">Servizi</a></li>
                <li><a href="contact.html" class="active">Contatti</a></li>
            </ul>
        </nav>
        <button class="close-button">
            <div class="arrow-left"></div>
        </button>
    </div>
    <script src="script.js"></script>
    <script src="contact.js"></script>
</body>
</html>
<script>
    document.getElementById('contactForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Previeni il comportamento predefinito del form
        
        // Esegui la chiamata a Formspree via AJAX
        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'https://formspree.io/f/xzzpbnvj');
        xhr.setRequestHeader('Accept', 'application/json');
        
        // Gestisci la risposta da Formspree
        xhr.onload = function() {
            if (xhr.status === 200) {
                // Nascondi il form e mostra il messaggio di conferma
                document.getElementById('contactForm').style.display = 'none';
                document.getElementById('confirmation').style.display = 'block';
            } else {
                // Gestisci eventuali errori
                console.error('Errore nell\'invio del form:', xhr.statusText);
                // Mostra un messaggio di errore, se necessario
            }
        };
        
        // Invia i dati del form
        xhr.send(new FormData(this));
    });
    </script>